<!DOCTYPE html>
<html lang="en">
<head>
	<link href="../favicon.ico" rel="icon" type="image/x-icon" />
	<link href="../index.css" rel="stylesheet" />
	<link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>how it works | Eunice</title>
	<style>
		.arrows-with-descriptions {
			background-image: url(../arrows/with-descriptions.svg);
			background-position: center;
			background-repeat: no-repeat;
			background-size: contain;
			height: 120px;
			max-width: 85vw;
			max-width: calc(100vw - 5em);
			width: 390px;
		}

		@media (prefers-color-scheme: dark) {
			.arrows-with-descriptions {
				background-image: url(../arrows/dark/with-descriptions.svg);
			}
		}

		.box {
			height: fit-content;
		}

		.box img {
			max-width: none;
		}

		.diagram {
			background-color: white;
			margin: 0 0 1em;
			padding: 1em;
			width: fit-content;
		}

		.diagram > img {
			margin: 0;
		}

		.example {
			display: flex;
			flex-wrap: wrap;
			gap: 0.5em;
		}

		.example img {
			background: white;
			padding: 0.5em;
		}

		.example > div {
			align-items: center;
			display: flex;
			width: fit-content;
		}

		.example.tall > div > div {
			width: min-content;
		}

		.mock-hyperlink { 
			color: blue;
			text-decoration: underline;
		}

		.parent-count-examples {
			display: flex;
			flex-wrap: wrap;
			gap: 0.5em;
		}

		.parent-count-examples .box * {
			background-color: white;
		}

		.parent-count-examples .breadcrumbs {
			font-family: serif;
			padding: 0.5em;
		}

		.parent-count-examples .breadcrumbs .ancestor-separator {
			color: darkgray;
		}
	</style>
</head>
<body>
	<div class="header">
		<div class="content">
			<h1><a href=".."><span><span class="red">e</span>uni<span class="red">ce</span></span><div class="arrows"></div></a></h1>
			<menu><a href="..">intro</a><a class="current" href="../how-it-works">how it works</a><a href="../case-studies">case studies</a><a href="../languages">languages</a><a href="../issues">issues</a><a href="../blog">blog</a></menu>
		</div>
	</div>
	<div class="content">
		<h1 id="stacks" style="margin-bottom: 0">stacks</h2>
		<div class="stacks-introduction">
			<p>In Eunice, items are stacked and intentional dependencies point downwards.</p>
			<div class="box diagram"><img alt="Diagram of a stack" src="./stack.svg" /></div>
			<p>When its intended that items are independent they can be in the same level.</p>
			<div class="box diagram"><img alt="Diagram of a level" src="./level.svg" /></div>
			<p>Multiple dependencies on the same item are modelled by combining the two previous two rules.</p>
			<div class="box diagram"><img alt="Diagram of independent dependencies" src="./independent.svg" /></div>
			<p>Eunice uses these rules to help you find circular dependencies, including indirect dependencies.</p>
			<div class="box diagram"><img alt="Diagram a circular dependency" src="./bidirectional.svg" /></div>
		</div>
		<h1 id="dependencies">dependencies</h1>
		<p>Representing dependencies with lines can be hard to follow, so instead Eunice counts dependencies into the following categories:</p>
		<div class="box horizontal-container" style="align-items: center; width: fit-content">
			<div class="arrows-with-descriptions"></div>
			<div>
				<div>matches stack<div class="green">green down arrow</div></div>
				<div>does not match stack<div class="red">red up arrow</div></div>
				<div>is not independent<div class="red">red horizontal arrow</div></div>
			</div>
		</div>
		<p>Dependency counts appear for both sides of the dependency, the dependent item and the item depended on.</p>
		<p>
			<div class="example tall">
				<div class="box">
					<div>upper depends on lower</div>
					<img alt="Diagram of a stack where the upper item depends upon the lower item" src="../examples/stack/upper-depends-upon-lower.svg"/>
				</div>
				<div class="box">
					<div>lower depends on upper</div>
					<img alt="Diagram of a stack where the lower item depends upon the upper item" src="../examples/stack/lower-depends-upon-upper.svg"/>
				</div>
			</div>
		</p>
		<p>
			<div class="example">
				<div class="box">
					<div>independent</div>
					<img alt="Diagram of two independent items" src="../examples/two.svg"/>
				</div>
				<div class="box">
					<div><div>first depends</div><div>on second</div></div>
					<img alt="Diagram of a level where the first item depends on the second" src="../examples/level/first-depends-upon-second.svg"/>
				</div>
			</div>
		</p>
		<p>Clicking on an arrow will list the dependencies counted in it.</p>
		<h1>Complex Systems</h1>
		<h2 style="margin-bottom: 0">hierarchy of stacks</h2>
		<p>To model everything, in systems of any size, Eunice uses a hierarchy of nested stacks.</p>
		<p>Stacks can be inferred from:
			<ul>
				<li>functions in a file</li><li>methods of a class</li><li>files in a directory</li><li>directories in sub-directories</li><li>projects/packages in a repository</li>
			</ul>
		</p>
		<p>Eunice does this by nesting groups of items, each with its own stack, creating a hierarchy.</p>
		<div class="box diagram"><img alt="Diagrams of how dependencies cross the boundaries of different scopes and groups" src="./groups-independent.svg" style="max-width: 330.5px" /></div>
		<p>Items that have uni-directional dependencies between each other, but are in groups that create a circular dependency, are automatically detected.</p>
		<div class="box diagram"><img alt="Diagram of how circular group dependencies are detected" src="./groups-bidirectional.svg" style="max-width: 150.5px" /></div>
		<p>Dependencies within an item are summarized and shown inside the item box, below the identifier text.</p>
		<div class="example">
			<div class="box">
				<div><div>parent</div><div>depends on</div><div>item</div></div>
				<img alt="Diagram of a parent dependent on one of its child items" src="../examples/parent-depends-upon-item.svg"/>
			</div>
			<div class="box">
				<div><div>item</div><div>depends on</div><div>parent</div></div>
				<img alt="Diagram of a parent where one of its child items depends on the parent" src="../examples/item-depends-upon-parent.svg"/>
			</div>
			<div class="box">
				<div><div>first item</div><div>depends on</div><div>second item</div><div>(not stacked)</div></div>
				<img alt="Diagram of a parent where one its child items depends on another child item in the same level" src="../examples/level/first-item-depends-upon-second-item.svg"/>
			</div>
		</div>
		<p>Clicking on an item will open it and show its child items and their dependency counts.</p>
		<p>When an item's opened its:
			<ul>
				<li>ancestors are displayed as breadcrumbs</li>
				<li>outer dependencies are shown around the outside of its border</li>
				<li>total dependency count of its child items are shown in its bottom border</li>
			</ul>
		</p>
		<div class="parent-count-examples">
			<div class="box">
				<div>
					<div class="breadcrumbs"><span class="mock-hyperlink">root</span> <span class="ancestor-separator">–</span> <span class="mock-hyperlink">grandparent</span></div>
					<img alt="Eunice showing breadcrumb links and contents of an opened item containing a stack of child items" src="../examples/parent/upper-child-depends-upon-lower-child.svg" style="padding: 0.5em" />
				</div>
			</div>
			<div class="box">
				<div>
					<div class="breadcrumbs"><span class="mock-hyperlink">root</span> <span class="ancestor-separator">–</span> <span class="mock-hyperlink">grandparent</span></div>
					<img alt="Eunice showing parent outer dependencies" src="../examples/parent/outer-dependencies.svg" style="padding: 0.5em" />
				</div>
			</div>
			<div class="box">
				<div>
					<div class="breadcrumbs"><span class="mock-hyperlink">root</span> <span class="ancestor-separator">–</span> <span class="mock-hyperlink">grandparent</span></div>
					<img alt="Eunice showing parent outer dependencies" src="../examples/parent/inner-dependencies-of-multiple-children.svg" style="padding: 0.5em" />
				</div>
			</div>
		</div>
		<h2 id="cohesion-and-coupling">Cohesion and Coupling</h1>
		<p>In Eunice, hierarchical structure and unidirectional dependencies come together to encourage less coupling across inter-group dependencies, replacing them with intra-group dependencies and more cohesion.</p>
		<p>In the following example the 4 items and 3 dependencies stay the same, but re-structuring the groups reduces the number of dependencies across the groups from two to one.</p>
		<div class="box diagram"><img alt="Diagram of how coupling is lower and cohesion is higher when dependencies are in uni-directional hierarchies" src="./coupling-and-cohesion.svg" style="max-width: 510.5px" /></div>
		<h1 id="advanced">advanced</h1>
		For information on how Eunice uses YAML, is implemented and can be extended, see the <a href="../advanced">advanced</a> page.
	</div>
	<footer>
		<div class="footer">
			<p class="links">
				<a class="email" href="mailto:eunice@devsnicket.com">eunice@devsnicket.com</a>
				<a class="blog" href="/eunice/blog">blog</a>
				<a class="github" href="https://github.com/DevSnicket" rel="noopener" target="_blank">GitHub</a>
			</p>
			<p><a href="/eunice/privacy-policy">privacy policy</a></p>
			<p class="copyright">Copyright © 2019 Graham Dyson</p>
		</div>
	</footer>
</body>
</html>